# 新功能6.4：查看图节点和数据详情

## 🎉 功能添加成功！

已成功添加新功能**6.4 View Graph Nodes & Data Details**，用于显示生成的可视化图中的详细节点和数据信息。

## 📋 功能概述

**功能位置**：菜单选项 `6.4 View Graph Nodes & Data Details`

**功能目的**：在生成可视化后，提供图中节点、边、社区等详细信息，帮助用户深入理解数据结构和分析结果。

## 🔍 显示内容

### 1. 📈 全局图概览
- 总节点数
- 总边数  
- 图密度

### 2. 📋 节点详情表格
按重要性排序显示前30个节点：
- **节点名称**（短语）
- **类型**（unigram/bigram）
- **频率**（在文档中出现次数）
- **角色**（core/periphery）
- **社区**（所属社区编号）
- **重要性得分**（综合重要性指标）

### 3. 🏘️ 社区分析
每个社区的统计信息：
- 社区编号
- 节点数量
- 核心节点数量
- 总频率
- 该社区的代表性短语

### 4. 🔗 边分析
- 总边数
- 权重范围（最小-最大）
- 平均权重
- 中位数权重
- **前10个最强连接**（按权重排序）

### 5. 🗺️ 状态子图详情
每个状态的子图统计：
- 状态名称
- 节点数
- 边数
- 密度
- 核心节点数
- 社区数

### 6. 📚 数据源信息
- 总文档数
- 总词汇数
- 平均每文档词汇数
- **按状态分组的文档统计**

### 7. 🔍 短语提取详情
- 总短语实例数
- 唯一短语数
- 过滤后短语数
- 最小频率阈值
- 短语类型配置
- 单词/双词组分布

### 8. 🎨 生成的可视化文件
- 文件名
- 文件大小
- 存储路径

## 🧪 测试验证

### 测试结果
- ✅ **功能正常工作**：成功显示所有信息类别
- ✅ **错误处理**：在没有可视化时给出适当提示
- ✅ **数据完整性**：显示的信息与实际图数据一致
- ✅ **格式美观**：表格对齐，信息清晰易读

### 测试数据
- **节点数**: 15个
- **边数**: 10条
- **社区数**: 5个
- **状态数**: 3个（CA, NY, TX）
- **生成文件**: 4个可视化图像

## 📋 使用说明

### 前置条件
1. 必须先运行完整管道到步骤**6.1**（生成可视化）
2. 确保有全局图和子图数据

### 使用步骤
1. 运行 `python complete_usage_guide.py`
2. 按顺序执行步骤1.1-6.1
3. 选择操作 **6.4**
4. 查看详细的节点和数据信息

### 输出示例
```
📊 GRAPH NODES & DATA DETAILS
------------------------------------------------------------
📈 GLOBAL GRAPH OVERVIEW:
   Total nodes: 15
   Total edges: 10
   Graph density: 9.52%

📋 NODE DETAILS:
Node (Phrase)                            Type     Freq   Role       Community  Importance
------------------------------------------------------------------------------------------------
learning                                 unigram  8      core       0          0.7743
machine                                  unigram  3      core       0          0.0832
data                                     unigram  6      core       0          0.0832
...

🏘️ COMMUNITY ANALYSIS:
Community    Nodes    Core   Total Freq   Top Phrases
--------------------------------------------------------------------
0            11       4      34           learning, data, machine
1            1        0      2            intelligence
...

🔝 TOP 10 STRONGEST CONNECTIONS:
Node 1                    Node 2                    Weight
------------------------------------------------------------
machine                   learning                  8
learning                  data                      8
...
```

## 💡 实用价值

### 1. 研究分析
- **识别关键概念**：通过重要性得分找到最重要的短语
- **理解概念关系**：通过边权重了解概念间的关联强度
- **发现主题群组**：通过社区分析识别相关概念的聚类

### 2. 数据验证
- **检查数据质量**：验证短语提取和过滤是否合理
- **确认图结构**：检查节点和边的数量是否符合预期
- **对比不同状态**：分析不同状态间的差异

### 3. 结果解释
- **可视化解读**：帮助理解生成的网络图
- **参数调优**：根据统计信息调整管道参数
- **报告撰写**：提供详细数据用于研究报告

## 🔧 技术实现

### 核心方法
```python
def view_graph_nodes_and_data(self):
    """View detailed information about graph nodes and data used in visualizations"""
```

### 数据来源
- `self.global_graph_object`：NetworkX图对象
- `self.state_subgraph_objects`：状态子图对象
- `self.cleaned_text_data`：清理后的文本数据
- `self.phrase_data`：短语提取数据
- `self.visualization_paths`：生成的可视化文件路径

### 安全检查
- 检查可视化是否已生成
- 检查全局图是否存在
- 处理缺失数据的情况

## 🎯 总结

新功能6.4成功添加到管道中，提供了：

- ✅ **全面的数据展示**：涵盖图结构、节点属性、社区信息等
- ✅ **用户友好的格式**：表格化显示，信息清晰易读
- ✅ **实用的分析工具**：帮助理解和解释可视化结果
- ✅ **完整的错误处理**：在数据不完整时给出适当提示

现在用户可以在生成可视化后，通过选择6.4操作来深入了解图中的节点和数据详情，大大增强了管道的分析能力和用户体验！